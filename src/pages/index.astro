---
import Base from '@/src/layouts/BaseLayout.astro';
import { H1, Text, BlogPostPreview, Page, Button, ExternalLink, JobItem } from '@/src/components';
import { getLatestPosts } from '@/src/lib/content';
import jobs from '@/jobs';
import { links } from '@/links';
const { posts, hasMore } = await getLatestPosts();
---
<Base title="Home">
  <Page client:load>
    <header class="mb-16 space-y-6">
      <img src="/headshot.jpg" alt="me" class="w-20 rounded-full shadow-xl dark:bg-zinc-700 ring-2 dark:ring-zinc-300 ring-zinc-500" />
      <H1 className="max-w-[28ch]">Software engineer, pool shark, and amateur improviser.</H1>
      <Text>I'm Nick, a software engineer from San Francisco with over 10 years of experience building compelling user interfaces and products that people love to use. With a passion for clean code and thoughtful design, I enjoy building intuitive interfaces that make complex problems easy to solve.</Text>
      <ul class="flex">
        {links.map(([href, , icon]) => (
          <ExternalLink href={href} className="p-2 first-of-type:-ml-2 group">
            <span class="sr-only">{href}</span>
          </ExternalLink>
        ))}
      </ul>
    </header>
    <div class="flex flex-col grid-cols-5 gap-20 md:grid">
      <section class="col-span-3 space-y-12">
        {posts.map((post) => (<BlogPostPreview post={post} />))}
        {hasMore && (
          <a href="/blog" class="flex items-center gap-2 text-sm font-semibold dark:text-zinc-300 font-plex">More posts</a>
        )}
      </section>
      <section class="col-span-2">
        <div class="sticky p-5 space-y-8 border shadow-md rounded-2xl border-zinc-300/75 dark:border-zinc-700/75 top-16">
          <h3 class="flex items-end gap-4" id="work">
            <span class="text-sm font-semibold text-zinc-700 dark:text-zinc-100 font-plex">Work</span>
          </h3>
          <ol class="space-y-4">
            {jobs.map((job) => (<JobItem {...job} />))}
          </ol>
          <Button onClick={() => {}}>Download Resume</Button>
        </div>
      </section>
    </div>
  </Page>
</Base>


