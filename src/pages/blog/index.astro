---
export const prerender = true;
import Base from "../../layouts/BaseLayout.astro";
import Text from "../../components/Text.astro";
import BlogPostPreview from "../../components/BlogPostPreview.astro";
import Page from "../../components/Page.astro";
import { DecodeText } from "../../components/DecodeText";
import PageHeader from "../../components/PageHeader.astro";
import { getLatestPosts } from "../../lib/get-latest-posts";
const description = `From pixels to pipelines â€“ with detours into creativity and daily discipline.`;
const { posts } = await getLatestPosts();
---

<Base title="Blog" description={description}>
  <Page>
    <article class="border-l border-r border-orange/20 dark:border-zinc-800 w-full">
      <PageHeader>
        <DecodeText
          slot="title"
          client:load
          value="writing"
          className="text-4xl md:text-5xl font-geist-mono font-bold tracking-tight leading-tight text-zinc-900 dark:text-zinc-50"
        />
        <Text slot="description">{description}</Text>
      </PageHeader>

      {/* Blog Posts Section */}
      <div class="w-full flex-col space-y-0 divide-y divide-orange/20 dark:divide-zinc-800">
        {
          posts.map((post, index) => (
            <div class="flex md:divide-x divide-orange/20 dark:divide-zinc-800">
              <div class="flex-1" />
              <div class="max-w-4xl w-full">
                <BlogPostPreview post={post} bottomCrosses={index === posts.length - 1} />
              </div>
              <div class="flex-1" />
            </div>
          ))
        }
      </div>
    </article>
  </Page>
</Base>
