---
export const prerender = true;
import Base from '../../layouts/BaseLayout.astro';
import { H1, Text, BlogPostPreview, Page } from '../../components';
import { getLatestPosts } from '../../lib/content';
const description = `A collection of my random musings; usually centered around frontend topics. Join me as I explore new technologies, share my experiences, and learn from others.`;
const { posts, tagMap, postsByTag } = await getLatestPosts();
---
<Base title="Blog" description={description}>
  <Page client:load>
    <header class="mb-16 space-y-6">
      <H1>All posts</H1>
      <div>
        <Text>{description}</Text>
      </div>
    </header>
    <div class="flex flex-col grid-cols-5 md:grid">
      <section class="col-span-3 space-y-12">
        {posts.map((post) => (<BlogPostPreview post={post} animate />))}
      </section>
      <aside class="self-start hidden w-1/2 col-span-2 col-start-4 p-4 mx-auto space-y-6 border shadow-md md:block rounded-2xl dark:border-zinc-700 border-zinc-300">
        <h3 class="flex items-center gap-4 text-sm font-semibold font-plex dark:text-zinc-100 text-zinc-700">Tags</h3>
        <ul class="space-y-1 text-sm text-zinc-500 dark:text-zinc-500">
          {Object.keys(tagMap).map((k) => (
            <li class="flex justify-between px-3 py-2 transition-colors rounded">{tagMap[k].label}<span>{tagMap[k].count}</span></li>
          ))}
        </ul>
      </aside>
    </div>
  </Page>
</Base>


